= Étapes de la mise à niveau
:revdate: 2025-07-10
:page-revdate: {revdate}
:description: SUSE Observability en mode auto-hébergé

[CAUTION]
====
Pour passer de StackState 6.0 à SUSE Observability, suivez le xref:/setup/upgrade-stackstate/migrate-from-6.adoc[guide de migration].
====


== Vue d'ensemble

Ce document décrit la procédure de mise à niveau de SUSE Observability.

== Avant de procéder à la mise à niveau

Lors de l'exécution d'une mise à niveau de SUSE Observability, il convient de tenir compte des points suivants :

[CAUTION]
====
*Lisez toujours les* xref:/setup/upgrade-stackstate/version-specific-upgrade-instructions.adoc[*notes de mise à niveau spécifiques à la version*] *avant de mettre à niveau SUSE Observability.*
====


[CAUTION]
====
Lors de la mise à niveau d'un StackPack, *toutes les modifications que vous avez apportées aux éléments de configuration de ce StackPack seront écrasées.* Pour plus d'informations, voir xref:/stackpacks/about-stackpacks.adoc#_locked_configuration_items[Verrouillage de la configuration].
====


[WARNING]
====
Si des *correctifs* sont installés dans votre installation SUSE Observability, contactez le support technique de SUSE Observability avant de procéder à la mise à niveau.
====


== Étapes de la mise à niveau

=== Version mineure ou de maintenance de SUSE Observability

Une version mineure de SUSE Observability est indiquée par un changement dans le deuxième chiffre du numéro de version, par exemple 4.1.0. Les versions de maintenance sont identifiées par un changement dans le troisième chiffre du numéro de version, par exemple 4.1.1.

Si vous effectuez une mise à niveau vers une nouvelle version *mineure* de SUSE Observability ou une version de *maintenance*, SUSE Observability lui-même et les StackPacks seront compatibles avec l'installation actuelle.

Une mise à niveau mineure se compose des étapes suivantes :

. <<_create_a_backup,Créer une sauvegarde>>
. <<_upgrade_suse_observability,Mise à niveau de SUSE Observability>>
. <<_verify_the_new_installation,Vérifier la nouvelle installation>>
. Vérifier si des StackPacks installés nécessitent une mise à jour

=== Version majeure de SUSE Observability

Une version majeure de SUSE Observability est indiquée par un changement dans le premier chiffre du numéro de version, par exemple 4.0.0.

Si vous effectuez une mise à niveau vers une nouvelle version *majeure* de SUSE Observability, SUSE Observability et les StackPacks installés peuvent être incompatibles avec l'installation actuelle. Pour plus de détails, consultez les xref:/setup/upgrade-stackstate/version-specific-upgrade-instructions.adoc[notes de mise à jour spécifiques à chaque version].

Une mise à niveau majeure comprend les étapes suivantes :

. xref:/setup/upgrade-stackstate/steps-to-upgrade.adoc#_create_a_backup[Créer une sauvegarde]
. En option : xref:/setup/upgrade-stackstate/steps-to-upgrade.adoc#_uninstall_stackpacks_optional[Désinstaller StackPacks]
. xref:/setup/upgrade-stackstate/steps-to-upgrade.adoc#_upgrade_stackstate[Mise à niveau de SUSE Observability]
. En option : xref:/setup/upgrade-stackstate/steps-to-upgrade.adoc#_install_stackpacks_optional[Installer les StackPacks]
. xref:/setup/upgrade-stackstate/steps-to-upgrade.adoc#_verify_the_new_installation[Vérifier la nouvelle installation]

== Présentation d'une mise à niveau

=== Créer une sauvegarde

Avant de mettre à niveau SUSE Observability, il est recommandé de sauvegarder vos données de configuration et de topologie :

* xref:/setup/data-management/backup_restore/kubernetes_backup.adoc[Sauvegarde Kubernetes]
* xref:/setup/data-management/backup_restore/configuration_backup.adoc[Sauvegarde de la configuration]

[NOTE]
====
Notez qu'il ne sera pas possible de restaurer la sauvegarde sur la version mise à jour de SUSE Observability. La sauvegarde de SUSE Observability ne peut être restaurée que dans la version de SUSE Observability précédant la mise à niveau.
====


=== Mise à niveau de SUSE Observability

Veillez à consulter les notes de mise à jour et les éventuelles notes de mise à niveau facultative avant d'effectuer la mise à niveau.

[tabs]
====

Kubernetes::
+
--

. Obtenez la dernière carte de barre en lançant `helm repo update`.
. Consultez les xref:/setup/upgrade-stackstate/version-specific-upgrade-instructions.adoc[notes de mise à jour spécifiques à la version pour] connaître tous les changements entre votre version actuelle et la version vers laquelle vous allez effectuer la mise à jour. Si des modifications ont été apportées aux éléments de configuration spécifiés dans votre fichier `values.yaml`, le fichier doit être mis à jour.
. Pour effectuer la mise à jour, utilisez la même commande helm que pour la xref:/setup/install-stackstate/kubernetes_openshift/kubernetes_install.adoc#_deploy_suse_observability_with_helm[première installation de Kubernetes]. Le nouveau diagramme helm permet d'extraire les nouvelles versions des images Docker et de gérer la mise à niveau.
--

OpenShift::
+
--

. Obtenez la dernière carte de barre en lançant `helm repo update`.
. Consultez les xref:/setup/upgrade-stackstate/version-specific-upgrade-instructions.adoc[notes de mise à jour spécifiques à la version pour] connaître tous les changements entre votre version actuelle et la version vers laquelle vous allez effectuer la mise à jour. Si des modifications ont été apportées aux éléments de configuration spécifiés dans votre fichier `values.yaml`, le fichier doit être mis à jour.
. xref:/setup/install-stackstate/kubernetes_openshift/openshift_install.adoc#_additional_openshift_values_file[Mettre à jour le] fichier xref:/setup/install-stackstate/kubernetes_openshift/openshift_install.adoc#_additional_openshift_values_file[ `openshift-values.yaml`.] 
. Pour mettre à jour, utilisez la même commande helm que pour la xref:/setup/install-stackstate/kubernetes_openshift/openshift_install.adoc#_deploy_suse_observability_with_helm[première installation d'OpenShift]. Le nouveau diagramme helm permet d'extraire les nouvelles versions des images Docker et de gérer la mise à niveau.
--

====

=== Vérifier la nouvelle installation

Une fois que SUSE Observability a été mis à niveau et démarré, vérifiez que la nouvelle installation de SUSE Observability est accessible et que l'application fonctionne.

== Voir aussi

* xref:/stackpacks/about-stackpacks.adoc#_upgrade_a_stackpack[Mise à niveau manuelle d'un StackPack]
* xref:/setup/upgrade-stackstate/version-specific-upgrade-instructions.adoc[Notes de mise à jour spécifiques à une version]
